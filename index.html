<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <!-- Google Search Console Verification -->
    <meta name="google-site-verification" content="nkR5Pfzko7I93RIvy57tFWipkHdbt4gKZGdhstz6Pjg" />
    
    <!-- Primary Meta Tags -->
    <title>Skibum - Real-Time Ski Planning & Vanlife Guide</title>
    <meta name="description" content="Real-time snow data, mountain cams, road conditions, and vanlife-friendly overnight parking for ski resorts across North America. Plan your perfect ski trip.">
    <meta name="keywords" content="ski resorts, snow conditions, vanlife parking, mountain cams, ski trip planning, powder alerts, overnight parking">
    
    <!-- Open Graph -->
    <meta property="og:title" content="Skibum - Where Should You Ski This Weekend?">
    <meta property="og:description" content="Real-time snow, mountain cams, road conditions, and vanlife-friendly overnight options - all in one place.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://skibum.com">
    <meta property="og:image" content="https://skibum.com/skibum_logo_blacktype_small.png">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Skibum - Ski Trip Planning Hub">
    <meta name="twitter:description" content="Real-time snow, cams, road conditions & vanlife parking for North American ski resorts.">
    <meta name="twitter:image" content="https://skibum.com/skibum_logo_blacktype_small.png">
    
    <link rel="canonical" href="https://skibum.com">
    
    <!-- Travelpayouts Affiliate Tracking -->
    <script data-noptimize="1" data-cfasync="false" data-wpfc-render="false">
      (function () {
          var script = document.createElement("script");
          script.async = 1;
          script.src = 'https://emrld.ltd/NDc1MzAz.js?t=475303';
          document.head.appendChild(script);
      })();
    </script>
    
    <link href="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.css" rel="stylesheet">
    <script src="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --primary-blue: #1e3a5f;
            --accent-orange: #ff6b35;
            --light-bg: #f8f9fa;
            --white: #ffffff;
            --text-dark: #2c3e50;
            --text-light: #6c757d;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: var(--text-dark);
            overflow-x: hidden;
        }
        
        /* Map specific styles */
        .mapboxgl-popup-content { 
            padding: 0; 
            border-radius: 12px; 
        }
        
        .marker { 
            cursor: pointer; 
            width: 30px; 
            height: 30px; 
            border-radius: 50%; 
            border: 2px solid white; 
            box-shadow: 0 4px 12px rgba(0,0,0,0.3); 
            transition: all 0.3s; 
        }
        
        .marker:hover { 
            transform: scale(1.2); 
        }
        
        /* Navigation */
        nav {
            background: var(--white);
            padding: 1rem 2rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        nav .container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--primary-blue);
            text-decoration: none;
        }
        
        .logo img {
            height: 60px;
        }
        
        .nav-links {
            display: flex;
            gap: 2rem;
            list-style: none;
        }
        
        .nav-links a {
            color: var(--text-dark);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
        }
        
        .nav-links a:hover {
            color: var(--accent-orange);
        }
        
        /* Hero Section */
        .hero {
            background: linear-gradient(135deg, rgba(30, 58, 95, 0.95), rgba(52, 73, 94, 0.9));
            color: var(--white);
            padding: 2rem 2rem 1.75rem;
            text-align: center;
        }
        
        .hero h1 {
            font-size: 2rem;
            margin-bottom: 0.5rem;
            font-weight: 700;
            line-height: 1.2;
        }
        
        .hero p {
            font-size: 1rem;
            margin-bottom: 1.25rem;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
            opacity: 0.95;
        }
        
        .cta-buttons {
            display: flex;
            gap: 0.875rem;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 0.75rem;
        }
        
        .btn {
            padding: 0.625rem 1.5rem;
            border-radius: 6px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s;
            border: none;
            cursor: pointer;
            font-size: 0.95rem;
        }
        
        .btn-primary {
            background: var(--accent-orange);
            color: var(--white);
        }
        
        .btn-primary:hover {
            background: #e55a2b;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(255, 107, 53, 0.3);
        }
        
        .btn-secondary {
            background: var(--white);
            color: var(--primary-blue);
        }
        
        .btn-secondary:hover {
            background: #f1f3f5;
            transform: translateY(-2px);
        }
        
        .tagline {
            font-size: 0.85rem;
            opacity: 0.85;
            margin-top: 0.75rem;
        }
        
        /* Section Containers */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }
        
        section {
            padding: 3rem 0;
        }
        
        .section-title {
            font-size: 1.75rem;
            margin-bottom: 1.5rem;
            color: var(--primary-blue);
            text-align: center;
        }
        
        .section-subtitle {
            font-size: 1.125rem;
            color: var(--text-light);
            text-align: center;
            max-width: 700px;
            margin: 0 auto 3rem;
        }
        
        /* Map Preview Section */
        .map-preview {
            background: var(--light-bg);
            padding: 1.5rem 0 3rem;
        }
        
        .map-embed-container {
            background: var(--white);
            border-radius: 12px;
            padding: 0;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            margin-top: 2rem;
            overflow: hidden;
            height: 400px;
            position: relative;
        }
        
        #preview-map {
            width: 100%;
            height: 100%;
        }
        
        .map-overlay {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 10;
        }
        
        /* Resort Cards */
        .resort-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }
        
        .resort-card {
            background: var(--white);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            transition: transform 0.3s, box-shadow 0.3s;
            text-decoration: none;
            color: var(--text-dark);
        }
        
        .resort-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 24px rgba(0,0,0,0.12);
        }
        
        .resort-image {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            height: 180px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--white);
            font-size: 1.5rem;
            font-weight: bold;
        }
        
        .resort-info {
            padding: 1.25rem;
        }
        
        .resort-name {
            font-size: 1.25rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }
        
        .resort-stats {
            display: flex;
            gap: 1rem;
            align-items: center;
            font-size: 0.875rem;
            color: var(--text-light);
        }
        
        .snow-amount {
            background: var(--accent-orange);
            color: var(--white);
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-weight: 600;
        }
        
        .pass-badge {
            background: var(--light-bg);
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-weight: 500;
        }
        
        /* Vanlife Section */
        .vanlife-section {
            background: var(--primary-blue);
            color: var(--white);
        }
        
        .vanlife-section .section-title {
            color: var(--white);
            text-align: left;
            margin-bottom: 1rem;
        }
        
        .vanlife-section .section-subtitle {
            color: rgba(255,255,255,0.9);
            text-align: left;
            margin-bottom: 2rem;
        }
        
        .two-column-layout {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            align-items: center;
        }
        
        .vanlife-content {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            padding: 2.5rem;
            text-align: center;
        }
        
        .trust-line {
            margin-top: 1.5rem;
            font-style: italic;
            opacity: 0.9;
        }
        
        /* Storm Tracker */
        .storm-tracker {
            background: var(--light-bg);
        }
        
        .storm-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            align-items: center;
        }
        
        /* Guides Section */
        .guides-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }
        
        .guide-card {
            background: var(--white);
            border-radius: 12px;
            padding: 2rem;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            text-decoration: none;
            color: var(--text-dark);
            transition: transform 0.3s;
        }
        
        .guide-card:hover {
            transform: translateY(-4px);
        }
        
        .guide-card h3 {
            font-size: 1.125rem;
            margin-bottom: 0.5rem;
            color: var(--primary-blue);
        }
        
        /* Email Capture */
        .email-section {
            background: linear-gradient(135deg, var(--primary-blue), #34495e);
            color: var(--white);
            text-align: center;
        }
        
        .email-section .section-title {
            color: var(--white);
        }
        
        .email-form {
            max-width: 500px;
            margin: 2rem auto 0;
            display: flex;
            gap: 1rem;
        }
        
        .email-form input {
            flex: 1;
            padding: 0.875rem 1.25rem;
            border-radius: 6px;
            border: none;
            font-size: 1rem;
        }
        
        .email-form button {
            padding: 0.875rem 2rem;
        }
        
        .reassurance {
            margin-top: 1rem;
            font-size: 0.875rem;
            opacity: 0.8;
        }
        
        /* Footer */
        footer {
            background: var(--text-dark);
            color: var(--white);
            padding: 3rem 0 1.5rem;
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }
        
        .footer-brand {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 1rem;
        }
        
        .footer-links {
            list-style: none;
        }
        
        .footer-links li {
            margin-bottom: 0.5rem;
        }
        
        .footer-links a {
            color: rgba(255,255,255,0.8);
            text-decoration: none;
            transition: color 0.3s;
        }
        
        .footer-links a:hover {
            color: var(--accent-orange);
        }
        
        .footer-bottom {
            text-align: center;
            padding-top: 2rem;
            border-top: 1px solid rgba(255,255,255,0.1);
            color: rgba(255,255,255,0.6);
        }
        
        /* Mobile Responsiveness */
        @media (max-width: 768px) {
            .hero {
                padding: 1.5rem 1.25rem 1.5rem;
            }
            
            .hero h1 {
                font-size: 1.5rem;
            }
            
            .hero p {
                font-size: 0.9rem;
            }
            
            .nav-links {
                display: none;
            }
            
            .two-column-layout,
            .storm-content {
                grid-template-columns: 1fr;
                gap: 2rem;
            }
            
            .email-form {
                flex-direction: column;
            }
            
            .section-title {
                font-size: 1.75rem;
            }
            
            section {
                padding: 3rem 0;
            }
            
            .map-embed-container {
                height: 300px;
            }
        }
        
        .text-center {
            text-align: center;
        }
        
        .mt-2 {
            margin-top: 2rem;
        }
    </style>
</head>
<body>
    <!-- Homepage Content -->
    <div id="homepage-content">
        <!-- Navigation -->
        <nav>
            <div class="container">
                <a href="/" class="logo">
                    <img src="skibum_logo_blacktype_small.png" alt="SkiBum">
                </a>
                <ul class="nav-links">
                    <li><a href="#map">Map</a></li>
                    <li><a href="#resorts">Resorts</a></li>
                    <li><a href="#vanlife">Vanlife</a></li>
                    <li><a href="#guides">Guides</a></li>
                    <li><a href="#about">About</a></li>
                </ul>
            </div>
        </nav>

        <!-- Hero Section -->
        <section class="hero">
            <div class="container">
                <h1>Where should you ski this weekend?</h1>
                <p>Real-time snow, mountain cams, road conditions, and vanlife-friendly overnight options ‚Äî all in one place.</p>
                
                <div class="cta-buttons">
                    <a href="map.html" class="btn btn-primary">Open the Map</a>
                    <a href="#resorts" class="btn btn-secondary">Explore Resorts</a>
                </div>
                
                <p class="tagline">Built for skiers, riders, storm chasers, and the vanlife community.</p>
            </div>
        </section>

        <!-- Map Preview Section -->
        <section class="map-preview" id="map">
            <div class="container">
                <h2 class="section-title">Your entire season, all on one map.</h2>
                
                <div class="map-embed-container">
                    <div id="preview-map"></div>
                    <div class="map-overlay">
                        <a href="map.html" class="btn btn-primary">View Full Map ‚Üí</a>
                    </div>
                </div>
                
                <p class="section-subtitle" style="margin-top: 2rem; margin-bottom: 0;">See every major U.S. ski resort at a glance. Filter by pass type, check new snowfall, and explore nearby mountains. This is the easiest way to plan ski days, road trips, and multi-resort weekends.</p>
            </div>
        </section>

        <!-- Featured Resorts Section -->
        <section id="resorts">
            <div class="container">
                <h2 class="section-title">This Week's Top 10 Resorts</h2>
                <p class="section-subtitle">The mountains people are checking right now ‚Äî based on storms, conditions, and seasonal patterns.</p>
                
                <div class="resort-grid">
                    <a href="#" class="resort-card">
                        <div class="resort-image">üèîÔ∏è</div>
                        <div class="resort-info">
                            <div class="resort-name">Vail</div>
                            <div class="resort-stats">
                                <span class="snow-amount">12"</span>
                                <span class="pass-badge">EPIC</span>
                            </div>
                        </div>
                    </a>
                    
                    <a href="#" class="resort-card">
                        <div class="resort-image">üèîÔ∏è</div>
                        <div class="resort-info">
                            <div class="resort-name">Aspen Snowmass</div>
                            <div class="resort-stats">
                                <span class="snow-amount">8"</span>
                                <span class="pass-badge">IKON</span>
                            </div>
                        </div>
                    </a>
                    
                    <a href="#" class="resort-card">
                        <div class="resort-image">üèîÔ∏è</div>
                        <div class="resort-info">
                            <div class="resort-name">Breckenridge</div>
                            <div class="resort-stats">
                                <span class="snow-amount">10"</span>
                                <span class="pass-badge">EPIC</span>
                            </div>
                        </div>
                    </a>
                    
                    <a href="#" class="resort-card">
                        <div class="resort-image">üèîÔ∏è</div>
                        <div class="resort-info">
                            <div class="resort-name">Park City</div>
                            <div class="resort-stats">
                                <span class="snow-amount">15"</span>
                                <span class="pass-badge">IKON</span>
                            </div>
                        </div>
                    </a>
                    
                    <a href="#" class="resort-card">
                        <div class="resort-image">üèîÔ∏è</div>
                        <div class="resort-info">
                            <div class="resort-name">Whistler Blackcomb</div>
                            <div class="resort-stats">
                                <span class="snow-amount">18"</span>
                                <span class="pass-badge">IKON</span>
                            </div>
                        </div>
                    </a>
                    
                    <a href="#" class="resort-card">
                        <div class="resort-image">üèîÔ∏è</div>
                        <div class="resort-info">
                            <div class="resort-name">Jackson Hole</div>
                            <div class="resort-stats">
                                <span class="snow-amount">14"</span>
                                <span class="pass-badge">IKON</span>
                            </div>
                        </div>
                    </a>
                    
                    <a href="#" class="resort-card">
                        <div class="resort-image">üèîÔ∏è</div>
                        <div class="resort-info">
                            <div class="resort-name">Mammoth Mountain</div>
                            <div class="resort-stats">
                                <span class="snow-amount">22"</span>
                                <span class="pass-badge">IKON</span>
                            </div>
                        </div>
                    </a>
                    
                    <a href="#" class="resort-card">
                        <div class="resort-image">üèîÔ∏è</div>
                        <div class="resort-info">
                            <div class="resort-name">Palisades Tahoe</div>
                            <div class="resort-stats">
                                <span class="snow-amount">16"</span>
                                <span class="pass-badge">IKON</span>
                            </div>
                        </div>
                    </a>
                    
                    <a href="#" class="resort-card">
                        <div class="resort-image">üèîÔ∏è</div>
                        <div class="resort-info">
                            <div class="resort-name">Steamboat</div>
                            <div class="resort-stats">
                                <span class="snow-amount">11"</span>
                                <span class="pass-badge">IKON</span>
                            </div>
                        </div>
                    </a>
                    
                    <a href="#" class="resort-card">
                        <div class="resort-image">üèîÔ∏è</div>
                        <div class="resort-info">
                            <div class="resort-name">Big Sky</div>
                            <div class="resort-stats">
                                <span class="snow-amount">13"</span>
                                <span class="pass-badge">IKON</span>
                            </div>
                        </div>
                    </a>
                </div>
            </div>
        </section>

        <!-- Vanlife Section -->
        <section class="vanlife-section" id="vanlife">
            <div class="container">
                <div class="two-column-layout">
                    <div>
                        <h2 class="section-title">Vanlife on the Mountain</h2>
                        <p class="section-subtitle">Clear overnight parking rules, safe spots to stay, and nearby camp-friendly options ‚Äî simplified for winter travel. No more digging through forums or guessing where it's allowed.</p>
                        <a href="#" class="btn btn-primary">Explore Vanlife Guide</a>
                        <p class="trust-line">The only ski platform built with vanlife in mind.</p>
                    </div>
                    <div class="vanlife-content">
                        <div style="font-size: 4rem; margin-bottom: 1rem;">üöê</div>
                        <p style="font-size: 1.125rem; opacity: 0.9;">Overnight parking rules, stealth camping spots, and vanlife-friendly resorts</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Storm Tracker Section -->
        <section class="storm-tracker">
            <div class="container">
                <div class="storm-content">
                    <div>
                        <h2 class="section-title" style="text-align: left;">Chasing storms? Start here.</h2>
                        <p style="font-size: 1.125rem; color: var(--text-light); margin-bottom: 2rem;">A quick look at who's getting hit, where snow is stacking up, and which mountains are setting up for a great weekend. Updated daily.</p>
                        <a href="#email" class="btn btn-primary">Get Powder Alerts</a>
                    </div>
                    <div style="background: var(--white); border-radius: 12px; padding: 3rem; text-align: center; box-shadow: 0 4px 12px rgba(0,0,0,0.08);">
                        <div style="font-size: 3rem;">üå®Ô∏è</div>
                        <p style="margin-top: 1rem; color: var(--text-light);">Storm tracking visualization</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Guides Section -->
        <section id="guides">
            <div class="container">
                <h2 class="section-title">Plan smarter, travel better.</h2>
                
                <div class="guides-grid">
                    <a href="#" class="guide-card">
                        <h3>Best Ski Resorts for Vanlife</h3>
                        <p style="color: var(--text-light); font-size: 0.9rem;">Discover which mountains welcome overnight parking and vanlife travelers.</p>
                    </a>
                    
                    <a href="#" class="guide-card">
                        <h3>Where to Park Overnight at Ski Resorts</h3>
                        <p style="color: var(--text-light); font-size: 0.9rem;">Complete guide to legal and tolerated overnight parking at major resorts.</p>
                    </a>
                    
                    <a href="#" class="guide-card">
                        <h3>Ikon vs Epic for Road Trips</h3>
                        <p style="color: var(--text-light); font-size: 0.9rem;">Which pass makes more sense for vanlife and multi-resort travel.</p>
                    </a>
                    
                    <a href="#" class="guide-card">
                        <h3>Best U.S. Powder Mountains</h3>
                        <p style="color: var(--text-light); font-size: 0.9rem;">The most reliable resorts for deep powder and consistent snowfall.</p>
                    </a>
                    
                    <a href="#" class="guide-card">
                        <h3>Top Budget Ski Trips</h3>
                        <p style="color: var(--text-light); font-size: 0.9rem;">How to ski world-class terrain without breaking the bank.</p>
                    </a>
                </div>
                
                <div class="text-center mt-2">
                    <a href="#" class="btn btn-secondary">Read All Guides ‚Üí</a>
                </div>
            </div>
        </section>

        <!-- Email Capture Section -->
        <section class="email-section" id="email">
            <div class="container">
                <h2 class="section-title">Get Powder Alerts & Overnight Parking Updates</h2>
                <p style="max-width: 600px; margin: 0 auto 0; font-size: 1.125rem; opacity: 0.95;">Short, useful updates about storms, travel conditions, and where to stay ‚Äî sent just a few times a month.</p>
                
                <form class="email-form">
                    <input type="email" placeholder="Enter your email" required>
                    <button type="submit" class="btn btn-primary">Join Free</button>
                </form>
                
                <p class="reassurance">No spam. Ever.</p>
            </div>
        </section>

        <!-- Footer -->
        <footer id="about">
            <div class="container">
                <div class="footer-content">
                    <div>
                        <div class="footer-brand">‚õ∑Ô∏è Skibum</div>
                        <p style="opacity: 0.8; max-width: 250px;">Built for the ones who chase it.</p>
                    </div>
                    
                    <div>
                        <h4 style="margin-bottom: 1rem;">Navigation</h4>
                        <ul class="footer-links">
                            <li><a href="#map">Map</a></li>
                            <li><a href="#resorts">Resorts</a></li>
                            <li><a href="#vanlife">Vanlife</a></li>
                            <li><a href="#guides">Guides</a></li>
                        </ul>
                    </div>
                    
                    <div>
                        <h4 style="margin-bottom: 1rem;">Resources</h4>
                        <ul class="footer-links">
                            <li><a href="#">Powder Alerts</a></li>
                            <li><a href="#">Storm Tracker</a></li>
                            <li><a href="#">Parking Guide</a></li>
                            <li><a href="#">Pass Comparison</a></li>
                        </ul>
                    </div>
                    
                    <div>
                        <h4 style="margin-bottom: 1rem;">About</h4>
                        <ul class="footer-links">
                            <li><a href="#">About Skibum</a></li>
                            <li><a href="#">Contact</a></li>
                            <li><a href="#">Privacy</a></li>
                            <li><a href="#">Terms</a></li>
                        </ul>
                    </div>
                </div>
                
                <div class="footer-bottom">
                    <p>&copy; 2025 Skibum.com. Built for skiers, riders, and vanlife travelers.</p>
                </div>
            </div>
        </footer>
    </div>

    <script>
        // Mapbox token
        mapboxgl.accessToken = 'pk.eyJ1Ijoiam5yNDciLCJhIjoiY200azAzNHo3MGs5MTJpcTRxejE1cmp0NSJ9.YpIGfQ1PZljzCJ7EhCjz4A';
        
        // Resort data (first 10 for preview)
        const resortData = [
            { id: 1, name: "Whistler Blackcomb", lat: 50.1163, lng: -122.9574 },
            { id: 2, name: "Vail", lat: 39.6403, lng: -106.3742 },
            { id: 3, name: "Park City", lat: 40.6514, lng: -111.5079 },
            { id: 4, name: "Breckenridge", lat: 39.4817, lng: -106.0384 },
            { id: 5, name: "Aspen Snowmass", lat: 39.1911, lng: -106.8175 },
            { id: 6, name: "Jackson Hole", lat: 43.5875, lng: -110.8278 },
            { id: 7, name: "Mammoth Mountain", lat: 37.6308, lng: -119.0326 },
            { id: 8, name: "Palisades Tahoe", lat: 39.1970, lng: -120.2356 },
            { id: 9, name: "Steamboat", lat: 40.4580, lng: -106.8047 },
            { id: 10, name: "Big Sky", lat: 45.2846, lng: -111.4008 }
        ];
        
        // Initialize preview map
        let previewMap = null;
        
        function initPreviewMap() {
            const mapContainer = document.getElementById('preview-map');
            if (!mapContainer || previewMap) {
                return;
            }
            
            try {
                previewMap = new mapboxgl.Map({
                    container: 'preview-map',
                    style: 'mapbox://styles/mapbox/dark-v11',
                    center: [-106, 45],
                    zoom: 3.5,
                    interactive: false
                });
                
                previewMap.on('load', function() {
                    // Add heatmap source
                    previewMap.addSource('snowfall-heat', {
                        type: 'geojson',
                        data: {
                            type: 'FeatureCollection',
                            features: resortData.map(function(resort) {
                                return {
                                    type: 'Feature',
                                    properties: { snowfall: 10 }, // Default snowfall for preview
                                    geometry: {
                                        type: 'Point',
                                        coordinates: [resort.lng, resort.lat]
                                    }
                                };
                            })
                        }
                    });

                    // Add heatmap layer
                    previewMap.addLayer({
                        id: 'snowfall-heatmap',
                        type: 'heatmap',
                        source: 'snowfall-heat',
                        maxzoom: 15,
                        paint: {
                            'heatmap-weight': [
                                'interpolate',
                                ['linear'],
                                ['get', 'snowfall'],
                                0, 0,
                                1, 0.5,
                                5, 0.8,
                                10, 1,
                                20, 1.5
                            ],
                            'heatmap-color': [
                                'interpolate',
                                ['linear'],
                                ['heatmap-density'],
                                0, 'rgba(224, 242, 254, 0)',
                                0.1, 'rgba(224, 242, 254, 0.8)',
                                0.3, 'rgba(125, 211, 252, 0.9)',
                                0.5, 'rgba(59, 130, 246, 0.95)',
                                0.7, 'rgba(124, 58, 237, 0.95)',
                                0.85, 'rgba(236, 72, 153, 1)',
                                1, 'rgba(240, 171, 252, 1)'
                            ],
                            'heatmap-radius': [
                                'interpolate',
                                ['linear'],
                                ['zoom'],
                                0, 20,
                                3, 30,
                                5, 40,
                                6, 30
                            ],
                            'heatmap-opacity': 1,
                            'heatmap-intensity': [
                                'interpolate',
                                ['linear'],
                                ['zoom'],
                                0, 1,
                                5, 1.2,
                                6, 1
                            ]
                        }
                    });
                });
            } catch (error) {
                console.error('Error initializing preview map:', error);
            }
        }
        
        // Initialize preview map when page loads - with slight delay to ensure container is ready
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', function() {
                setTimeout(initPreviewMap, 200);
            });
        } else {
            setTimeout(initPreviewMap, 200);
        }
        
        // Smooth scrolling
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('a[href^="#"]').forEach(function(anchor) {
                anchor.addEventListener('click', function(e) {
                    const href = this.getAttribute('href');
                    if (href !== '#' && href !== '#map') {
                        e.preventDefault();
                        const target = document.querySelector(href);
                        if (target) {
                            target.scrollIntoView({
                                behavior: 'smooth',
                                block: 'start'
                            });
                        }
                    }
                });
            });
        });
        
        // Email form
        document.addEventListener('DOMContentLoaded', function() {
            const emailForm = document.querySelector('.email-form');
            if (emailForm) {
                emailForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    alert('Email signup functionality will be integrated with your email service provider.');
                });
            }
        });
    </script>
</body>
</html>
